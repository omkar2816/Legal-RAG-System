2025-07-31 01:53:04,155 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:06,041 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:06,056 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:06,126 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:53:06,126 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:53:09,060 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:09,062 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:10,622 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:10,623 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:54:18,798 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:54:20,859 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:55:22,265 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:55:36,387 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:55:38,370 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:06,692 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:06,785 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:09,770 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:09,799 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:11,694 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:11,937 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:30,976 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:35,809 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:37,024 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:59:38,829 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:01:48,268 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:01:49,940 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:02:39,396 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:02:40,935 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:06:01,318 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:06:43,093 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_020643_a145cc13.txt
2025-07-31 02:06:43,097 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:06:43,099 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:06:45,817 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '62', 'x-pinecone-request-id': '508952569847454464', 'x-envoy-upstream-service-time': '61', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:06:45,818 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '62', 'x-pinecone-request-id': '508952569847454464', 'x-envoy-upstream-service-time': '61', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:06:49,585 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:06:50,866 - api.routes.query - ERROR - Error processing query: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '3', 'x-pinecone-request-id': '8747223586268180908', 'x-envoy-upstream-service-time': '2', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:07:37,741 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:07:39,963 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:41,796 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:41,872 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:07:44,432 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:46,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:50,381 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:51,717 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:59,002 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:00,247 - api.routes.query - ERROR - Error processing query: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:00 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '3', 'x-pinecone-request-id': '8739771429157188079', 'x-envoy-upstream-service-time': '2', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:08:00,360 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:02,860 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:04,369 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:04,445 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:06,860 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:07,516 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:08,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:09,780 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:11,521 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:11,564 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:13,368 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:14,701 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:14,759 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:17,573 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:19,276 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:19,318 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:21,286 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:22,990 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:23,052 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:25,488 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:27,163 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:27,206 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:29,713 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:31,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:35,995 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:37,590 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:42,939 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:45,593 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:48,050 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:49,391 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:49,434 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:51,254 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:52,506 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:55,193 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_020855_a145cc13.txt
2025-07-31 02:08:55,194 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:08:55,196 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:57,560 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:57 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '18', 'x-pinecone-request-id': '3461787860199501387', 'x-envoy-upstream-service-time': '17', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_020855_a145cc13.txt_20250730_203855_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:08:57,560 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:57 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '18', 'x-pinecone-request-id': '3461787860199501387', 'x-envoy-upstream-service-time': '17', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_020855_a145cc13.txt_20250730_203855_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:09:04,796 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:09:17,764 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:10:24,030 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:10:26,782 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:10:28,285 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:10:28,331 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:10:30,827 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:10:32,291 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:10:35,374 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:10:59,777 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:01,237 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:05,814 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:09,246 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:10,333 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:10,801 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:13,099 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:14,713 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:14,762 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:17,227 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:18,663 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:24,327 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_021124_a145cc13.txt
2025-07-31 02:11:24,329 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:11:26,436 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:26,436 - openai._base_client - INFO - Retrying request to /embeddings in 0.486965 seconds
2025-07-31 02:11:27,740 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:27,741 - openai._base_client - INFO - Retrying request to /embeddings in 0.858990 seconds
2025-07-31 02:11:28,891 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:28,892 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:11:31,745 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:41:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '23', 'x-pinecone-request-id': '686397441167206393', 'x-envoy-upstream-service-time': '22', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021124_a145cc13.txt_20250730_204124_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:11:31,746 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:41:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '23', 'x-pinecone-request-id': '686397441167206393', 'x-envoy-upstream-service-time': '22', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021124_a145cc13.txt_20250730_204124_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:11:35,803 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:35,804 - openai._base_client - INFO - Retrying request to /embeddings in 0.479729 seconds
2025-07-31 02:11:37,122 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:37,122 - openai._base_client - INFO - Retrying request to /embeddings in 0.758704 seconds
2025-07-31 02:11:38,253 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:38,254 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:12:47,054 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:12:50,931 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:12:52,712 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:12:52,794 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:12:59,706 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:01,355 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:01,476 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:04,672 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:06,135 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:27,623 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:30,398 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:32,211 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:32,256 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:32,798 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:35,644 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:36,357 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:37,423 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:37,664 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:37,711 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:40,483 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:42,007 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:14:11,509 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:14:15,087 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:14:26,426 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:14:26,494 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:14:30,091 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:14:31,756 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:07,004 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:15:08,398 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:11,599 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:15:14,326 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:15:16,058 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:56,097 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:15:58,717 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:16:00,195 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:16:00,239 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:16:02,796 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:16:04,707 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:17:03,807 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:47,125 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:49,583 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:17:51,305 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:17:51,351 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:53,890 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:17:55,651 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:32,682 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:32,822 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:35,602 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:35,718 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:37,309 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:37,309 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:37,346 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:37,349 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:40,500 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:40,505 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:41,805 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:41,806 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:19:10,946 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:19:12,614 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:19:16,864 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_021916_a145cc13.txt
2025-07-31 02:19:16,865 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:19:17,775 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:17,775 - openai._base_client - INFO - Retrying request to /embeddings in 0.411784 seconds
2025-07-31 02:19:18,541 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:18,542 - openai._base_client - INFO - Retrying request to /embeddings in 0.761684 seconds
2025-07-31 02:19:21,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:21,256 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:19:24,330 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:24 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '33', 'x-pinecone-request-id': '2521968221023437127', 'x-envoy-upstream-service-time': '33', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021916_a145cc13.txt_20250730_204916_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:24,331 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:24 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '33', 'x-pinecone-request-id': '2521968221023437127', 'x-envoy-upstream-service-time': '33', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021916_a145cc13.txt_20250730_204916_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:24,346 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_021924_88ddc325.txt
2025-07-31 02:19:24,347 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-07-31 02:19:25,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:25,314 - openai._base_client - INFO - Retrying request to /embeddings in 0.476831 seconds
2025-07-31 02:19:26,129 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:26,131 - openai._base_client - INFO - Retrying request to /embeddings in 0.932796 seconds
2025-07-31 02:19:27,370 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:27,371 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:19:28,681 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:28 GMT', 'Content-Type': 'application/json', 'Content-Length': '197', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '35', 'x-pinecone-request-id': '8971934731301996785', 'x-envoy-upstream-service-time': '34', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_nda_20250731_021924_88ddc325.txt_20250730_204924_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:28,682 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:28 GMT', 'Content-Type': 'application/json', 'Content-Length': '197', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '35', 'x-pinecone-request-id': '8971934731301996785', 'x-envoy-upstream-service-time': '34', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_nda_20250731_021924_88ddc325.txt_20250730_204924_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:20:39,903 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022039_a145cc13.txt
2025-07-31 02:20:39,905 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022039_88ddc325.txt
2025-07-31 02:20:39,906 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:20:40,748 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:40,749 - openai._base_client - INFO - Retrying request to /embeddings in 0.479857 seconds
2025-07-31 02:20:42,165 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:42,166 - openai._base_client - INFO - Retrying request to /embeddings in 0.921947 seconds
2025-07-31 02:20:44,331 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:44,332 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:20:45,774 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:50:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '21', 'x-pinecone-request-id': '5424563458340033368', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_022039_a145cc13.txt_20250730_205039_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:20:45,775 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:50:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '21', 'x-pinecone-request-id': '5424563458340033368', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_022039_a145cc13.txt_20250730_205039_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:21:00,656 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:05,155 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:06,904 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:06,971 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:10,157 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:11,459 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:11,546 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:14,277 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:15,052 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:16,843 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:17,888 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:19,363 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:19,428 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:22,989 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:24,654 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:24,722 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022124_88ddc325.txt
2025-07-31 02:21:24,723 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-07-31 02:21:24,723 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:24,724 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:26,762 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022126_a145cc13.txt
2025-07-31 02:21:26,763 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022126_88ddc325.txt
2025-07-31 02:21:26,764 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:21:26,764 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:26,765 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:31,711 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:22:51,786 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:22:54,656 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:22:56,283 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:22:56,344 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:22:59,377 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:00,505 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:37,803 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:37,803 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:41,627 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:41,648 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:43,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:43,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:43,619 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:43,630 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:47,289 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:47,293 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:48,938 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:48,950 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:07,203 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:09,826 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:11,343 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:11,394 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:14,459 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:15,987 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:50,173 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:53,738 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:55,495 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:55,583 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:58,938 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:25:00,634 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:25:06,750 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:25:08,513 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:25:15,194 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022515_a145cc13.txt
2025-07-31 02:25:15,195 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:25:15,932 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:15,933 - openai._base_client - INFO - Retrying request to /embeddings in 0.460389 seconds
2025-07-31 02:25:16,742 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:16,743 - openai._base_client - INFO - Retrying request to /embeddings in 0.974636 seconds
2025-07-31 02:25:18,542 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:18,543 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:25:18,544 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-07-31 02:25:18,545 - embeddings.mock_embed_client - INFO - Generated 1 mock embeddings
2025-07-31 02:25:21,297 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:55:21 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '295', 'x-pinecone-request-id': '7349540430028923318', 'x-envoy-upstream-service-time': '19', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:25:21,298 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:55:21 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '295', 'x-pinecone-request-id': '7349540430028923318', 'x-envoy-upstream-service-time': '19', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:03,447 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022603_a145cc13.txt
2025-07-31 02:26:03,449 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:26:04,349 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:04,350 - openai._base_client - INFO - Retrying request to /embeddings in 0.465741 seconds
2025-07-31 02:26:05,120 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:05,121 - openai._base_client - INFO - Retrying request to /embeddings in 0.771801 seconds
2025-07-31 02:26:07,571 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:07,572 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:26:07,572 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-07-31 02:26:07,573 - embeddings.mock_embed_client - INFO - Generated 1 mock embeddings
2025-07-31 02:26:09,193 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:56:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '268', 'x-pinecone-request-id': '6927586876015874421', 'x-envoy-upstream-service-time': '35', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:09,194 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:56:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '268', 'x-pinecone-request-id': '6927586876015874421', 'x-envoy-upstream-service-time': '35', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:09,300 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:12,186 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:12,318 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:13,981 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:14,064 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:15,954 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:17,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:17,435 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:17,775 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:19,480 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:20,507 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:21,993 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:27:56,993 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:27:59,439 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:00,999 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:01,045 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:03,379 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:04,459 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:44,124 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:44,124 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:47,399 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:47,402 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:49,177 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:49,232 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:49,275 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:49,330 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:52,549 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:52,648 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:53,736 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:54,473 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:29:07,222 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:09,899 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:29:11,440 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:29:11,483 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:14,067 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:29:14,885 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:15,020 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:30:02,496 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:30:04,851 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:30:06,486 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:30:06,531 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:30:08,947 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:30:10,490 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:31:14,718 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:31:17,243 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:31:18,011 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:31:18,913 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:31:20,589 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:31:22,204 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:32:28,133 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:32:29,914 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:33:36,878 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:20:35,838 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:20:37,544 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:25:48,332 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:26:01,285 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:26:03,074 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:26:46,792 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:26:51,127 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:26:52,841 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:27:55,748 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:27:57,476 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:28:00,150 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:28:03,385 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:28:05,029 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:28:27,744 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:28:49,997 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:29:15,130 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:29:33,532 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:31:36,759 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:31:38,830 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:32:01,567 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:38:39,411 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:38:40,893 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:38:57,154 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_133857_a145cc13.txt
2025-08-01 13:38:57,155 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 13:38:57,155 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:38:57,155 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:39:12,844 - api.routes.admin - ERROR - Error getting system stats: 'Settings' object has no attribute 'OPENAI_MODEL'
2025-08-01 13:39:18,934 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:41:30,116 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134130_646c7d83.pdf
2025-08-01 13:41:30,117 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:41:31,139 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:41:31,139 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:41:31,141 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:41:31,144 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:41:35,046 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:35 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1283', 'x-pinecone-request-id': '969568221612345448', 'x-envoy-upstream-service-time': '52', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:41:35,046 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:35 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1283', 'x-pinecone-request-id': '969568221612345448', 'x-envoy-upstream-service-time': '52', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:41:35,061 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134135_646c7d83.pdf
2025-08-01 13:41:35,062 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:41:35,454 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:41:35,455 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:41:35,455 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:41:35,456 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:41:37,859 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:38 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1172', 'x-pinecone-request-id': '9111127087531803521', 'x-envoy-upstream-service-time': '3', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:41:37,861 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:38 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1172', 'x-pinecone-request-id': '9111127087531803521', 'x-envoy-upstream-service-time': '3', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:03,418 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:43:05,055 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:43:46,986 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134346_646c7d83.pdf
2025-08-01 13:43:46,987 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:43:47,460 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:43:47,461 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:43:47,461 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:43:47,462 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:43:50,162 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1246', 'x-pinecone-request-id': '8556524506385078245', 'x-envoy-upstream-service-time': '36', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:50,162 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1246', 'x-pinecone-request-id': '8556524506385078245', 'x-envoy-upstream-service-time': '36', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:50,171 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134350_646c7d83.pdf
2025-08-01 13:43:50,172 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:43:50,588 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:43:50,588 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:43:50,588 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:43:50,589 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:43:53,645 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1250', 'x-pinecone-request-id': '720375741227278605', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:53,646 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1250', 'x-pinecone-request-id': '720375741227278605', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:45:17,987 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:47:46,186 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_134746_88ddc325.txt
2025-08-01 13:47:46,187 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:47:46,187 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:47:46,188 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:47:46,306 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:47:49,048 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:47:50,629 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:47:50,630 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:47:53,173 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:47:54,863 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:47:57,155 - api.routes.admin - ERROR - Error getting system stats: 'Settings' object has no attribute 'OPENAI_MODEL'
2025-08-01 13:48:28,039 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_134828_88ddc325.txt
2025-08-01 13:48:28,040 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:48:28,040 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:48:28,040 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:48:28,174 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:48:30,893 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:48:32,347 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:48:32,348 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:48:34,921 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:48:36,407 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:48:38,538 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:49:11,246 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_134911_88ddc325.txt
2025-08-01 13:49:11,247 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:49:11,247 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:49:11,248 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:49:11,443 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:14,070 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:49:15,552 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:49:15,553 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:18,175 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:49:19,482 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:49:49,975 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 13:49:52,914 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:55,531 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:49:57,089 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:49:57,090 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:59,760 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:50:01,116 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:53:17,079 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_135317_a145cc13.txt
2025-08-01 13:53:17,080 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 13:53:17,080 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:53:17,080 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:53:17,218 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:53:19,979 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:53:21,763 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:53:21,764 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:53:24,212 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:53:25,812 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:54:31,705 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:54:33,256 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:54:35,386 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:54:37,619 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:54:39,305 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:55:25,879 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:58:49,562 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_135849_88ddc325.txt
2025-08-01 13:58:49,563 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:58:50,375 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 13:58:53,201 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:28:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '261', 'x-pinecone-request-id': '6588446659363335996', 'x-envoy-upstream-service-time': '39', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":19....' for field 'legal_terms'","details":[]}

2025-08-01 13:58:53,201 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:28:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '261', 'x-pinecone-request-id': '6588446659363335996', 'x-envoy-upstream-service-time': '39', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":19....' for field 'legal_terms'","details":[]}

2025-08-01 14:00:15,262 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:00:17,008 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:01:50,065 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140150_a145cc13.txt
2025-08-01 14:01:50,066 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:01:50,715 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:01:52,175 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:52 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '235', 'x-pinecone-request-id': '8803343657696923520', 'x-envoy-upstream-service-time': '27', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:01:52,175 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:52 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '235', 'x-pinecone-request-id': '8803343657696923520', 'x-envoy-upstream-service-time': '27', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:01:52,183 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140152_a145cc13.txt
2025-08-01 14:01:52,183 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:01:52,726 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:01:55,298 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:55 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '277', 'x-pinecone-request-id': '553868746747045210', 'x-envoy-upstream-service-time': '38', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:01:55,299 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:55 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '277', 'x-pinecone-request-id': '553868746747045210', 'x-envoy-upstream-service-time': '38', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:03:54,659 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140354_a145cc13.txt
2025-08-01 14:03:54,660 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:03:55,261 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:04:24,112 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 14:04:42,572 - urllib3.connectionpool - WARNING - Retrying (JitterRetry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='hackrx1-9wjymg0.svc.aped-4627-b74a.pinecone.io', port=443): Read timed out. (read timeout=None)")': /vectors/upsert
2025-08-01 14:04:44,194 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:34:44 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '239', 'x-pinecone-request-id': '5643598869748976268', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:04:44,194 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:34:44 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '239', 'x-pinecone-request-id': '5643598869748976268', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:06:07,258 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140607_a145cc13.txt
2025-08-01 14:06:07,260 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:06:07,950 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:06:09,497 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:36:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '243', 'x-pinecone-request-id': '3671150867597624679', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:06:09,497 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:36:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '243', 'x-pinecone-request-id': '3671150867597624679', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:06:09,617 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 14:06:12,123 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:06:13,659 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:06:13,660 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 14:06:16,189 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:06:17,687 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:18:32,753 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:18:34,098 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:19:11,295 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_141911_a145cc13.txt
2025-08-01 14:19:11,296 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:19:12,801 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:19:15,896 - utils.file_utils - INFO - Moved file to processed: processed\sample_contract_20250801_141911_a145cc13.txt_20250801_084911.txt
2025-08-01 14:19:15,897 - api.routes.ingest - INFO - Successfully processed document: sample_contract.txt
2025-08-01 14:19:15,899 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_141915_a145cc13.txt
2025-08-01 14:19:15,900 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:19:17,433 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:19:18,985 - utils.file_utils - INFO - Moved file to processed: processed\sample_contract_20250801_141915_a145cc13.txt_20250801_084915.txt
2025-08-01 14:19:18,985 - api.routes.ingest - INFO - Successfully processed document: sample_contract.txt
2025-08-01 14:19:23,705 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_141923_a145cc13.txt
2025-08-01 14:19:23,705 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:19:25,412 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:19:27,083 - utils.file_utils - INFO - Moved file to processed: processed\sample_contract_20250801_141923_a145cc13.txt_20250801_084923.txt
2025-08-01 14:19:27,083 - api.routes.ingest - INFO - Successfully processed document: sample_contract.txt
2025-08-01 17:27:29,318 - api.main - INFO - Starting Legal RAG System...
2025-08-01 17:27:31,150 - api.main - INFO - Legal RAG System started successfully
2025-08-01 17:28:33,430 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_172833_646c7d83.pdf
2025-08-01 17:28:33,433 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 17:28:34,494 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 17:28:34,496 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 17:28:34,499 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 17:28:34,506 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 17:28:40,021 - utils.file_utils - INFO - Moved file to processed: processed\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_172833_646c7d83.pdf_20250801_115833.pdf
2025-08-01 17:28:40,022 - api.routes.ingest - INFO - Successfully processed document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 17:29:52,699 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 17:31:56,487 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 17:32:50,332 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 17:33:31,552 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 17:34:42,027 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 17:35:32,820 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 18:03:41,752 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:03:45,097 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:03:46,890 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:03:46,892 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:03:50,143 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:03:51,735 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:05:25,180 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:05:27,384 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:05:28,702 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:05:41,264 - vectordb.advanced_retrieval - INFO - Original query: 'what are preexisting diseases expenses?' -> Normalized: 'what are preexisting diseases expenses?'
2025-08-01 18:05:41,766 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 18:05:44,565 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.250 to 0.078 to meet minimum results requirement
2025-08-01 18:05:44,566 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-01 18:06:03,485 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:06:08,415 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:06:09,855 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:07:50,884 - vectordb.advanced_retrieval - INFO - Original query: 'what is waiting period for this policy' -> Normalized: 'what is waiting period for this policy'
2025-08-01 18:07:51,250 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 18:07:53,908 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.250 to 0.060 to meet minimum results requirement
2025-08-01 18:07:53,909 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-01 18:11:06,473 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:11:08,847 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:11:10,417 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:16:06,425 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:16:09,605 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:16:11,357 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:16:11,359 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:16:14,430 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:16:15,813 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:18:00,119 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:18:02,607 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:18:04,473 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:18:04,474 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:18:07,028 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:18:08,364 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:18:08,365 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:18:10,469 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:18:12,012 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:18:15,381 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 18:18:20,246 - api.main - INFO - Starting Legal RAG System...
2025-08-01 18:18:22,538 - api.main - INFO - Legal RAG System started successfully
2025-08-01 18:20:21,609 - vectordb.advanced_retrieval - INFO - Original query: 'what is maximum waiting period?' -> Normalized: 'what is maximum waiting period?'
2025-08-01 18:20:22,073 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 18:20:24,778 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.700 to 0.060 to meet minimum results requirement
2025-08-01 18:20:24,779 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-01 18:20:24,779 - api.routes.query - ERROR - Error processing query: Voyage AI Python client does not support chat/completions. Use the HTTP API directly if available, or use another provider.
2025-08-01 18:29:32,921 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 23:51:54,752 - api.main - INFO - Starting Legal RAG System...
2025-08-01 23:51:57,579 - api.main - INFO - Legal RAG System started successfully
2025-08-01 23:58:46,359 - api.main - INFO - Starting Legal RAG System...
2025-08-01 23:58:48,508 - api.main - INFO - Legal RAG System started successfully
2025-08-01 23:59:38,767 - vectordb.advanced_retrieval - INFO - Original query: 'what is minimum waiting period for knee surgery expenses?' -> Normalized: 'what is minimum waiting period for knee surgery expenses?'
2025-08-01 23:59:39,386 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 23:59:43,627 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.700 to 0.189 to meet minimum results requirement
2025-08-01 23:59:43,628 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-01 23:59:43,628 - api.routes.query - ERROR - Error processing query: Voyage AI Python client does not support chat/completions. Use the HTTP API directly if available, or use another provider.
2025-08-02 00:08:05,638 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:08:15,887 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:08:18,421 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:13:07,642 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:13:14,096 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:13:16,449 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:13:28,820 - vectordb.advanced_retrieval - INFO - Original query: 'what is minimum waiting period for knee surgery expenses?' -> Normalized: 'what is minimum waiting period for knee surgery expenses?'
2025-08-02 00:13:29,591 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 00:13:34,359 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.700 to 0.189 to meet minimum results requirement
2025-08-02 00:13:34,360 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-02 00:13:34,613 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-08-02 00:13:34,615 - llm_service.llm_client - ERROR - Error generating response with Groq: Error code: 401 - {'error': {'message': 'Invalid API Key', 'type': 'invalid_request_error', 'code': 'invalid_api_key'}}
2025-08-02 00:13:34,616 - api.routes.query - ERROR - Error processing query: Failed to generate response: Error code: 401 - {'error': {'message': 'Invalid API Key', 'type': 'invalid_request_error', 'code': 'invalid_api_key'}}
2025-08-02 00:15:22,358 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:15:31,661 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:15:33,820 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:17:03,642 - vectordb.advanced_retrieval - INFO - Original query: 'what is maximum waiting period for preexisting diseases?' -> Normalized: 'what is maximum waiting period for preexisting diseases?'
2025-08-02 00:17:04,273 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 00:17:08,423 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.700 to 0.177 to meet minimum results requirement
2025-08-02 00:17:08,423 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-02 00:17:09,192 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 00:19:22,913 - vectordb.advanced_retrieval - INFO - Original query: 'what is maximum waiting period for preexisting diseases?' -> Normalized: 'what is maximum waiting period for preexisting diseases?'
2025-08-02 00:19:23,298 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 00:19:25,502 - vectordb.advanced_retrieval - INFO - Adjusting threshold from 0.700 to 0.069 to meet minimum results requirement
2025-08-02 00:19:25,503 - vectordb.advanced_retrieval - INFO - Retrieved 1 documents from 1 candidates
2025-08-02 00:19:26,299 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 00:36:08,831 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:36:15,085 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:36:16,997 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:36:21,122 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:36:29,317 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:36:31,291 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:42:53,782 - api.routes.query - ERROR - Error processing query: cannot import name 'get_all_vectors' from 'vectordb.pinecone_client' (C:\Users\Omkar Korgaonkar\HackRx 6.0\vectordb\pinecone_client.py)
2025-08-02 00:43:47,231 - api.routes.query - ERROR - Error processing query: cannot import name 'get_all_vectors' from 'vectordb.pinecone_client' (C:\Users\Omkar Korgaonkar\HackRx 6.0\vectordb\pinecone_client.py)
2025-08-02 00:46:23,869 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:46:33,443 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:46:36,050 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:49:13,730 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:49:19,761 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:49:22,129 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:49:25,720 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:49:35,040 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:49:37,740 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:50:47,461 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 00:50:56,493 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 00:50:57,580 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 00:58:53,101 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:58:59,489 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:59:02,399 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:59:04,463 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 00:59:12,080 - api.main - INFO - Starting Legal RAG System...
2025-08-02 00:59:14,365 - api.main - INFO - Legal RAG System started successfully
2025-08-02 00:59:51,664 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 01:00:01,745 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 01:00:03,883 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 01:02:49,476 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:02:58,168 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:03:00,625 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:04:01,061 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:04:06,136 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:04:08,381 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:04:29,013 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:28:21,360 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:28:24,158 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:29:43,293 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:29:45,127 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:30:23,542 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 01:30:29,004 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 01:30:30,545 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 01:30:30,548 - llm_service.llm_client - ERROR - Error in generate_legal_response: 'bool' object is not iterable
2025-08-02 01:30:30,549 - llm_service.llm_client - ERROR - Question: what is maximum waiting period for treatment of joint replacement?, what does the policy define as a preexisting diseases?, what is the waiting period for cataract treatment under this policy?, what is the maximum co-premium percentage applicable under this policy? when does it apply?
2025-08-02 01:30:30,549 - llm_service.llm_client - ERROR - Context chunks count: 1
2025-08-02 01:30:30,550 - llm_service.llm_client - ERROR - Traceback: Traceback (most recent call last):
  File "C:\Users\Omkar Korgaonkar\HackRx 6.0\llm_service\llm_client.py", line 114, in generate_legal_response
    response = self._validate_response_completeness(response, questions)
  File "C:\Users\Omkar Korgaonkar\HackRx 6.0\llm_service\llm_client.py", line 179, in _validate_response_completeness
    if any(f"{i}." in response_lower or f"question {i}" in response_lower):
       ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'bool' object is not iterable

2025-08-02 01:30:30,550 - api.routes.query - ERROR - Error processing query: Failed to generate legal response: 'bool' object is not iterable
2025-08-02 01:33:47,690 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:33:51,389 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:33:53,436 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:33:53,437 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:33:57,091 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:33:58,641 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:34:19,397 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:34:25,511 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:34:27,166 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:35:22,528 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 01:35:27,747 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 01:35:29,942 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 01:35:29,944 - llm_service.llm_client - ERROR - Error in generate_legal_response: 'bool' object is not iterable
2025-08-02 01:35:29,944 - llm_service.llm_client - ERROR - Question: what is maximum waiting period for treatment of joint replacement?, what does the policy define as a preexisting diseases?, what is the waiting period for cataract treatment under this policy?, what is the maximum co-premium percentage applicable under this policy? when does it apply?
2025-08-02 01:35:29,944 - llm_service.llm_client - ERROR - Context chunks count: 1
2025-08-02 01:35:29,945 - llm_service.llm_client - ERROR - Traceback: Traceback (most recent call last):
  File "C:\Users\Omkar Korgaonkar\HackRx 6.0\llm_service\llm_client.py", line 129, in generate_legal_response
    response = self._validate_response_completeness(response, questions)
  File "C:\Users\Omkar Korgaonkar\HackRx 6.0\llm_service\llm_client.py", line 194, in _validate_response_completeness
    if any(f"{i}." in response_lower or f"question {i}" in response_lower):
       ~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'bool' object is not iterable

2025-08-02 01:35:29,946 - api.routes.query - ERROR - Error processing query: Failed to generate legal response: 'bool' object is not iterable
2025-08-02 01:37:32,026 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:37:35,685 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:37:37,329 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:37:37,330 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:37:40,814 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:37:42,615 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:38:56,011 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:38:59,619 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:39:01,424 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:39:01,425 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:39:04,964 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:39:06,502 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:39:10,523 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:40:19,456 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:40:21,108 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:41:05,287 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 01:41:11,309 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 01:41:13,816 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 01:50:17,153 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:50:20,938 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:50:23,147 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:50:23,148 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:50:26,814 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:50:28,686 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:50:28,688 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:50:32,443 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:50:34,878 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:50:34,879 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:50:38,394 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:50:40,748 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:51:46,629 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 01:51:55,698 - api.main - INFO - Starting Legal RAG System...
2025-08-02 01:51:57,547 - api.main - INFO - Legal RAG System started successfully
2025-08-02 01:52:30,993 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 01:52:36,926 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 01:52:38,579 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 01:56:14,977 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 01:56:19,895 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 01:56:22,543 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 02:04:16,011 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 02:04:20,904 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 02:04:23,540 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 02:17:10,378 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:17:13,987 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:17:15,993 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:17:15,994 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:17:19,482 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:17:20,857 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:17:53,708 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:17:56,867 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:17:58,276 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:17:58,277 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:18:01,531 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:18:03,241 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:18:03,242 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:18:06,773 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:18:08,823 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:19:41,681 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:19:48,345 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:19:50,075 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:24:45,380 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:24:48,168 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:24:50,006 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:24:50,007 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:24:52,695 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:24:53,929 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:29:45,350 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:29:49,024 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:29:50,671 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:29:50,672 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:29:54,124 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:29:55,956 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:34:51,300 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:34:55,160 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:34:56,884 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:34:56,885 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:35:00,724 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:35:02,077 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:35:02,078 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:35:05,625 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:35:07,357 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:35:51,709 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:35:58,195 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:35:59,999 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:36:50,637 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-02 02:36:57,103 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-02 02:36:59,842 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-02 02:36:59,954 - api.main - INFO - Shutting down Legal RAG System...
2025-08-02 02:37:02,770 - api.main - INFO - Starting Legal RAG System...
2025-08-02 02:37:04,575 - api.main - INFO - Legal RAG System started successfully
2025-08-02 02:45:47,441 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:34:22,758 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:34:24,678 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:36:39,429 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:36:41,494 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:39:16,997 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:39:21,945 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:39:23,582 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:39:23,584 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:39:28,157 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:39:30,247 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:40:10,689 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:40:15,066 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:40:17,126 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:40:17,128 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:40:21,451 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:40:23,195 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:40:33,495 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:40:38,201 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:40:40,215 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:41:15,931 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250804_004115_646c7d83.pdf
2025-08-04 00:41:15,934 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-04 00:41:17,104 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-04 00:41:17,105 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-04 00:41:17,117 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-04 00:41:17,126 - embeddings.mock_embed_client - INFO - Generated 15 mock embeddings
2025-08-04 00:41:22,706 - utils.file_utils - INFO - Moved file to processed: processed\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250804_004115_646c7d83.pdf_20250803_191116.pdf
2025-08-04 00:41:22,707 - api.routes.ingest - INFO - Successfully processed document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-04 00:42:04,223 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-04 00:42:13,566 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-04 00:42:16,644 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-04 00:44:25,221 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 00:44:33,046 - api.main - INFO - Starting Legal RAG System...
2025-08-04 00:44:34,950 - api.main - INFO - Legal RAG System started successfully
2025-08-04 00:45:11,426 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250804_004511_646c7d83.pdf
2025-08-04 00:45:11,428 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-04 00:45:12,342 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-04 00:45:12,344 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-04 00:45:12,345 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-04 00:45:12,350 - embeddings.mock_embed_client - INFO - Generated 15 mock embeddings
2025-08-04 00:45:16,236 - utils.file_utils - INFO - Moved file to processed: processed\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250804_004511_646c7d83.pdf_20250803_191511.pdf
2025-08-04 00:45:16,237 - api.routes.ingest - INFO - Successfully processed document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-04 00:45:34,974 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-04 00:45:47,582 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 2 results
2025-08-04 00:45:50,302 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-04 00:49:11,238 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 03:12:34,442 - api.main - INFO - Starting Legal RAG System...
2025-08-04 03:12:36,441 - api.main - INFO - Legal RAG System started successfully
2025-08-04 03:19:33,691 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 03:19:36,293 - api.main - INFO - Starting Legal RAG System...
2025-08-04 03:19:38,025 - api.main - INFO - Legal RAG System started successfully
2025-08-04 03:19:40,098 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 03:49:34,932 - api.main - INFO - Starting Legal RAG System...
2025-08-04 03:49:36,444 - api.main - INFO - Legal RAG System started successfully
2025-08-04 03:52:46,089 - api.main - INFO - Shutting down Legal RAG System...
2025-08-04 03:52:50,920 - api.main - INFO - Starting Legal RAG System...
2025-08-04 03:52:52,859 - api.main - INFO - Legal RAG System started successfully
2025-08-04 03:54:20,900 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-04 03:54:29,639 - vectordb.hybrid_retrieval - INFO - Multi-stage retrieval completed: 1 results
2025-08-04 03:54:32,341 - httpx - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-04 03:56:23,796 - api.main - INFO - Shutting down Legal RAG System...
2025-08-05 01:44:05,278 - api.main - INFO - Starting Legal RAG System...
2025-08-05 01:44:07,194 - api.main - INFO - Legal RAG System started successfully
2025-08-05 01:44:39,679 - api.main - INFO - Shutting down Legal RAG System...
2025-08-05 01:44:52,099 - api.main - INFO - Starting Legal RAG System...
2025-08-05 01:44:53,974 - api.main - INFO - Legal RAG System started successfully
2025-08-05 01:45:25,442 - api.main - INFO - Shutting down Legal RAG System...
