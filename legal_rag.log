2025-07-31 01:53:04,155 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:06,041 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:06,056 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:06,126 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:53:06,126 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:53:09,060 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:09,062 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:10,622 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:10,623 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:54:18,798 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:54:20,859 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:55:22,265 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:55:36,387 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:55:38,370 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:06,692 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:06,785 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:09,770 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:09,799 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:11,694 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:11,937 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:30,976 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:35,809 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:37,024 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:59:38,829 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:01:48,268 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:01:49,940 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:02:39,396 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:02:40,935 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:06:01,318 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:06:43,093 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_020643_a145cc13.txt
2025-07-31 02:06:43,097 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:06:43,099 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:06:45,817 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '62', 'x-pinecone-request-id': '508952569847454464', 'x-envoy-upstream-service-time': '61', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:06:45,818 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '62', 'x-pinecone-request-id': '508952569847454464', 'x-envoy-upstream-service-time': '61', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:06:49,585 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:06:50,866 - api.routes.query - ERROR - Error processing query: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '3', 'x-pinecone-request-id': '8747223586268180908', 'x-envoy-upstream-service-time': '2', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:07:37,741 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:07:39,963 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:41,796 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:41,872 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:07:44,432 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:46,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:50,381 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:51,717 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:59,002 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:00,247 - api.routes.query - ERROR - Error processing query: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:00 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '3', 'x-pinecone-request-id': '8739771429157188079', 'x-envoy-upstream-service-time': '2', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:08:00,360 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:02,860 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:04,369 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:04,445 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:06,860 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:07,516 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:08,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:09,780 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:11,521 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:11,564 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:13,368 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:14,701 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:14,759 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:17,573 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:19,276 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:19,318 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:21,286 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:22,990 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:23,052 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:25,488 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:27,163 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:27,206 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:29,713 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:31,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:35,995 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:37,590 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:42,939 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:45,593 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:48,050 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:49,391 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:49,434 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:51,254 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:52,506 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:55,193 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_020855_a145cc13.txt
2025-07-31 02:08:55,194 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:08:55,196 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:57,560 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:57 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '18', 'x-pinecone-request-id': '3461787860199501387', 'x-envoy-upstream-service-time': '17', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_020855_a145cc13.txt_20250730_203855_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:08:57,560 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:57 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '18', 'x-pinecone-request-id': '3461787860199501387', 'x-envoy-upstream-service-time': '17', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_020855_a145cc13.txt_20250730_203855_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:09:04,796 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:09:17,764 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:10:24,030 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:10:26,782 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:10:28,285 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:10:28,331 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:10:30,827 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:10:32,291 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:10:35,374 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:10:59,777 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:01,237 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:05,814 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:09,246 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:10,333 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:10,801 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:13,099 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:14,713 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:14,762 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:17,227 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:18,663 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:24,327 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_021124_a145cc13.txt
2025-07-31 02:11:24,329 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:11:26,436 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:26,436 - openai._base_client - INFO - Retrying request to /embeddings in 0.486965 seconds
2025-07-31 02:11:27,740 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:27,741 - openai._base_client - INFO - Retrying request to /embeddings in 0.858990 seconds
2025-07-31 02:11:28,891 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:28,892 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:11:31,745 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:41:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '23', 'x-pinecone-request-id': '686397441167206393', 'x-envoy-upstream-service-time': '22', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021124_a145cc13.txt_20250730_204124_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:11:31,746 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:41:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '23', 'x-pinecone-request-id': '686397441167206393', 'x-envoy-upstream-service-time': '22', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021124_a145cc13.txt_20250730_204124_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:11:35,803 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:35,804 - openai._base_client - INFO - Retrying request to /embeddings in 0.479729 seconds
2025-07-31 02:11:37,122 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:37,122 - openai._base_client - INFO - Retrying request to /embeddings in 0.758704 seconds
2025-07-31 02:11:38,253 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:38,254 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:12:47,054 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:12:50,931 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:12:52,712 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:12:52,794 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:12:59,706 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:01,355 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:01,476 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:04,672 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:06,135 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:27,623 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:30,398 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:32,211 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:32,256 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:32,798 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:35,644 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:36,357 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:37,423 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:37,664 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:37,711 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:40,483 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:42,007 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:14:11,509 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:14:15,087 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:14:26,426 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:14:26,494 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:14:30,091 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:14:31,756 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:07,004 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:15:08,398 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:11,599 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:15:14,326 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:15:16,058 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:56,097 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:15:58,717 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:16:00,195 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:16:00,239 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:16:02,796 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:16:04,707 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:17:03,807 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:47,125 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:49,583 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:17:51,305 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:17:51,351 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:53,890 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:17:55,651 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:32,682 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:32,822 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:35,602 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:35,718 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:37,309 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:37,309 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:37,346 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:37,349 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:40,500 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:40,505 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:41,805 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:41,806 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:19:10,946 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:19:12,614 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:19:16,864 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_021916_a145cc13.txt
2025-07-31 02:19:16,865 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:19:17,775 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:17,775 - openai._base_client - INFO - Retrying request to /embeddings in 0.411784 seconds
2025-07-31 02:19:18,541 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:18,542 - openai._base_client - INFO - Retrying request to /embeddings in 0.761684 seconds
2025-07-31 02:19:21,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:21,256 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:19:24,330 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:24 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '33', 'x-pinecone-request-id': '2521968221023437127', 'x-envoy-upstream-service-time': '33', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021916_a145cc13.txt_20250730_204916_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:24,331 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:24 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '33', 'x-pinecone-request-id': '2521968221023437127', 'x-envoy-upstream-service-time': '33', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021916_a145cc13.txt_20250730_204916_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:24,346 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_021924_88ddc325.txt
2025-07-31 02:19:24,347 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-07-31 02:19:25,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:25,314 - openai._base_client - INFO - Retrying request to /embeddings in 0.476831 seconds
2025-07-31 02:19:26,129 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:26,131 - openai._base_client - INFO - Retrying request to /embeddings in 0.932796 seconds
2025-07-31 02:19:27,370 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:27,371 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:19:28,681 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:28 GMT', 'Content-Type': 'application/json', 'Content-Length': '197', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '35', 'x-pinecone-request-id': '8971934731301996785', 'x-envoy-upstream-service-time': '34', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_nda_20250731_021924_88ddc325.txt_20250730_204924_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:28,682 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:28 GMT', 'Content-Type': 'application/json', 'Content-Length': '197', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '35', 'x-pinecone-request-id': '8971934731301996785', 'x-envoy-upstream-service-time': '34', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_nda_20250731_021924_88ddc325.txt_20250730_204924_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:20:39,903 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022039_a145cc13.txt
2025-07-31 02:20:39,905 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022039_88ddc325.txt
2025-07-31 02:20:39,906 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:20:40,748 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:40,749 - openai._base_client - INFO - Retrying request to /embeddings in 0.479857 seconds
2025-07-31 02:20:42,165 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:42,166 - openai._base_client - INFO - Retrying request to /embeddings in 0.921947 seconds
2025-07-31 02:20:44,331 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:44,332 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:20:45,774 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:50:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '21', 'x-pinecone-request-id': '5424563458340033368', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_022039_a145cc13.txt_20250730_205039_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:20:45,775 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:50:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '21', 'x-pinecone-request-id': '5424563458340033368', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_022039_a145cc13.txt_20250730_205039_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:21:00,656 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:05,155 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:06,904 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:06,971 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:10,157 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:11,459 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:11,546 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:14,277 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:15,052 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:16,843 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:17,888 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:19,363 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:19,428 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:22,989 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:24,654 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:24,722 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022124_88ddc325.txt
2025-07-31 02:21:24,723 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-07-31 02:21:24,723 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:24,724 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:26,762 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022126_a145cc13.txt
2025-07-31 02:21:26,763 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022126_88ddc325.txt
2025-07-31 02:21:26,764 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:21:26,764 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:26,765 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:31,711 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:22:51,786 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:22:54,656 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:22:56,283 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:22:56,344 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:22:59,377 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:00,505 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:37,803 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:37,803 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:41,627 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:41,648 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:43,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:43,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:43,619 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:43,630 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:47,289 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:47,293 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:48,938 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:48,950 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:07,203 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:09,826 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:11,343 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:11,394 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:14,459 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:15,987 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:50,173 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:53,738 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:55,495 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:55,583 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:58,938 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:25:00,634 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:25:06,750 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:25:08,513 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:25:15,194 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022515_a145cc13.txt
2025-07-31 02:25:15,195 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:25:15,932 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:15,933 - openai._base_client - INFO - Retrying request to /embeddings in 0.460389 seconds
2025-07-31 02:25:16,742 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:16,743 - openai._base_client - INFO - Retrying request to /embeddings in 0.974636 seconds
2025-07-31 02:25:18,542 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:18,543 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:25:18,544 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-07-31 02:25:18,545 - embeddings.mock_embed_client - INFO - Generated 1 mock embeddings
2025-07-31 02:25:21,297 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:55:21 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '295', 'x-pinecone-request-id': '7349540430028923318', 'x-envoy-upstream-service-time': '19', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:25:21,298 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:55:21 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '295', 'x-pinecone-request-id': '7349540430028923318', 'x-envoy-upstream-service-time': '19', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:03,447 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022603_a145cc13.txt
2025-07-31 02:26:03,449 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:26:04,349 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:04,350 - openai._base_client - INFO - Retrying request to /embeddings in 0.465741 seconds
2025-07-31 02:26:05,120 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:05,121 - openai._base_client - INFO - Retrying request to /embeddings in 0.771801 seconds
2025-07-31 02:26:07,571 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:07,572 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:26:07,572 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-07-31 02:26:07,573 - embeddings.mock_embed_client - INFO - Generated 1 mock embeddings
2025-07-31 02:26:09,193 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:56:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '268', 'x-pinecone-request-id': '6927586876015874421', 'x-envoy-upstream-service-time': '35', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:09,194 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:56:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '268', 'x-pinecone-request-id': '6927586876015874421', 'x-envoy-upstream-service-time': '35', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:09,300 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:12,186 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:12,318 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:13,981 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:14,064 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:15,954 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:17,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:17,435 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:17,775 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:19,480 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:20,507 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:21,993 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:27:56,993 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:27:59,439 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:00,999 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:01,045 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:03,379 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:04,459 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:44,124 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:44,124 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:47,399 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:47,402 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:49,177 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:49,232 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:49,275 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:49,330 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:52,549 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:52,648 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:53,736 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:54,473 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:29:07,222 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:09,899 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:29:11,440 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:29:11,483 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:14,067 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:29:14,885 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:15,020 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:30:02,496 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:30:04,851 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:30:06,486 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:30:06,531 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:30:08,947 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:30:10,490 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:31:14,718 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:31:17,243 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:31:18,011 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:31:18,913 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:31:20,589 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:31:22,204 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:32:28,133 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:32:29,914 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:33:36,878 - api.main - INFO - Shutting down Legal RAG System...
