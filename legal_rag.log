2025-07-31 01:53:04,155 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:06,041 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:06,056 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:06,126 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:53:06,126 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:53:09,060 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:09,062 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:53:10,622 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:53:10,623 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:54:18,798 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:54:20,859 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:55:22,265 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:55:36,387 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:55:38,370 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:06,692 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:06,785 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:09,770 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:09,799 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:11,694 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:11,937 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:58:30,976 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 01:58:35,809 - api.main - INFO - Starting Legal RAG System...
2025-07-31 01:58:37,024 - api.main - INFO - Legal RAG System started successfully
2025-07-31 01:59:38,829 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:01:48,268 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:01:49,940 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:02:39,396 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:02:40,935 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:06:01,318 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:06:43,093 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_020643_a145cc13.txt
2025-07-31 02:06:43,097 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:06:43,099 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:06:45,817 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '62', 'x-pinecone-request-id': '508952569847454464', 'x-envoy-upstream-service-time': '61', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:06:45,818 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '62', 'x-pinecone-request-id': '508952569847454464', 'x-envoy-upstream-service-time': '61', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:06:49,585 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:06:50,866 - api.routes.query - ERROR - Error processing query: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:36:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '3', 'x-pinecone-request-id': '8747223586268180908', 'x-envoy-upstream-service-time': '2', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:07:37,741 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:07:39,963 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:41,796 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:41,872 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:07:44,432 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:46,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:50,381 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:07:51,717 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:07:59,002 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:00,247 - api.routes.query - ERROR - Error processing query: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:00 GMT', 'Content-Type': 'application/json', 'Content-Length': '104', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '3', 'x-pinecone-request-id': '8739771429157188079', 'x-envoy-upstream-service-time': '2', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Vector dimension 1536 does not match the dimension of the index 1024","details":[]}

2025-07-31 02:08:00,360 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:02,860 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:04,369 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:04,445 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:06,860 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:07,516 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:08,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:09,780 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:11,521 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:11,564 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:13,368 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:14,701 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:14,759 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:17,573 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:19,276 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:19,318 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:21,286 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:22,990 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:23,052 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:25,488 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:27,163 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:27,206 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:29,713 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:31,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:35,995 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:37,590 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:42,939 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:45,593 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:48,050 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:49,391 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:49,434 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:08:51,254 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:08:52,506 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:08:55,193 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_020855_a145cc13.txt
2025-07-31 02:08:55,194 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:08:55,196 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:08:57,560 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:57 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '18', 'x-pinecone-request-id': '3461787860199501387', 'x-envoy-upstream-service-time': '17', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_020855_a145cc13.txt_20250730_203855_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:08:57,560 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:38:57 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '18', 'x-pinecone-request-id': '3461787860199501387', 'x-envoy-upstream-service-time': '17', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_020855_a145cc13.txt_20250730_203855_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:09:04,796 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: 

You tried to access openai.Embedding, but this is no longer supported in openai>=1.0.0 - see the README at https://github.com/openai/openai-python for the API.

You can run `openai migrate` to automatically upgrade your codebase to use the 1.0.0 interface. 

Alternatively, you can pin your installation to the old version, e.g. `pip install openai==0.28`

A detailed migration guide is available here: https://github.com/openai/openai-python/discussions/742

2025-07-31 02:09:17,764 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:10:24,030 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:10:26,782 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:10:28,285 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:10:28,331 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:10:30,827 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:10:32,291 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:10:35,374 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:10:59,777 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:01,237 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:05,814 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:09,246 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:10,333 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:10,801 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:13,099 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:14,713 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:14,762 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:11:17,227 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:11:18,663 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:11:24,327 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_021124_a145cc13.txt
2025-07-31 02:11:24,329 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:11:26,436 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:26,436 - openai._base_client - INFO - Retrying request to /embeddings in 0.486965 seconds
2025-07-31 02:11:27,740 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:27,741 - openai._base_client - INFO - Retrying request to /embeddings in 0.858990 seconds
2025-07-31 02:11:28,891 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:28,892 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:11:31,745 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:41:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '23', 'x-pinecone-request-id': '686397441167206393', 'x-envoy-upstream-service-time': '22', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021124_a145cc13.txt_20250730_204124_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:11:31,746 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:41:31 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '23', 'x-pinecone-request-id': '686397441167206393', 'x-envoy-upstream-service-time': '22', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021124_a145cc13.txt_20250730_204124_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:11:35,803 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:35,804 - openai._base_client - INFO - Retrying request to /embeddings in 0.479729 seconds
2025-07-31 02:11:37,122 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:37,122 - openai._base_client - INFO - Retrying request to /embeddings in 0.758704 seconds
2025-07-31 02:11:38,253 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:11:38,254 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:12:47,054 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:12:50,931 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:12:52,712 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:12:52,794 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:12:59,706 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:01,355 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:01,476 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:04,672 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:06,135 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:27,623 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:30,398 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:32,211 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:32,256 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:32,798 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:35,644 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:36,357 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:37,423 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:37,664 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:13:37,711 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:13:40,483 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:13:42,007 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:14:11,509 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:14:15,087 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:14:26,426 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:14:26,494 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:14:30,091 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:14:31,756 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:07,004 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:15:08,398 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:11,599 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:15:14,326 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:15:16,058 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:15:56,097 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:15:58,717 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:16:00,195 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:16:00,239 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:16:02,796 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:16:04,707 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:17:03,807 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:47,125 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:49,583 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:17:51,305 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:17:51,351 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:17:53,890 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:17:55,651 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:32,682 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:32,822 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:35,602 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:35,718 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:37,309 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:37,309 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:37,346 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:37,349 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:18:40,500 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:40,505 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:18:41,805 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:18:41,806 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:19:10,946 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:19:12,614 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:19:16,864 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_021916_a145cc13.txt
2025-07-31 02:19:16,865 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:19:17,775 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:17,775 - openai._base_client - INFO - Retrying request to /embeddings in 0.411784 seconds
2025-07-31 02:19:18,541 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:18,542 - openai._base_client - INFO - Retrying request to /embeddings in 0.761684 seconds
2025-07-31 02:19:21,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:21,256 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:19:24,330 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:24 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '33', 'x-pinecone-request-id': '2521968221023437127', 'x-envoy-upstream-service-time': '33', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021916_a145cc13.txt_20250730_204916_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:24,331 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:24 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '33', 'x-pinecone-request-id': '2521968221023437127', 'x-envoy-upstream-service-time': '33', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_021916_a145cc13.txt_20250730_204916_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:24,346 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_021924_88ddc325.txt
2025-07-31 02:19:24,347 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-07-31 02:19:25,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:25,314 - openai._base_client - INFO - Retrying request to /embeddings in 0.476831 seconds
2025-07-31 02:19:26,129 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:26,131 - openai._base_client - INFO - Retrying request to /embeddings in 0.932796 seconds
2025-07-31 02:19:27,370 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:19:27,371 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:19:28,681 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:28 GMT', 'Content-Type': 'application/json', 'Content-Length': '197', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '35', 'x-pinecone-request-id': '8971934731301996785', 'x-envoy-upstream-service-time': '34', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_nda_20250731_021924_88ddc325.txt_20250730_204924_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:19:28,682 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:49:28 GMT', 'Content-Type': 'application/json', 'Content-Length': '197', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '35', 'x-pinecone-request-id': '8971934731301996785', 'x-envoy-upstream-service-time': '34', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_nda_20250731_021924_88ddc325.txt_20250730_204924_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:20:39,903 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022039_a145cc13.txt
2025-07-31 02:20:39,905 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022039_88ddc325.txt
2025-07-31 02:20:39,906 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:20:40,748 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:40,749 - openai._base_client - INFO - Retrying request to /embeddings in 0.479857 seconds
2025-07-31 02:20:42,165 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:42,166 - openai._base_client - INFO - Retrying request to /embeddings in 0.921947 seconds
2025-07-31 02:20:44,331 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:20:44,332 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:20:45,774 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:50:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '21', 'x-pinecone-request-id': '5424563458340033368', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_022039_a145cc13.txt_20250730_205039_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:20:45,775 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:50:45 GMT', 'Content-Type': 'application/json', 'Content-Length': '202', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '21', 'x-pinecone-request-id': '5424563458340033368', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Dense vectors must contain at least one non-zero value. Vector ID 'sample_contract_20250731_022039_a145cc13.txt_20250730_205039_section_0_chunk_0' contains only zeros","details":[]}

2025-07-31 02:21:00,656 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:05,155 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:06,904 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:06,971 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:10,157 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:11,459 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:11,546 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:14,277 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:15,052 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:16,843 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:17,888 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:19,363 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:19,428 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:21:22,989 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:21:24,654 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:21:24,722 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022124_88ddc325.txt
2025-07-31 02:21:24,723 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-07-31 02:21:24,723 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:24,724 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:26,762 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022126_a145cc13.txt
2025-07-31 02:21:26,763 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250731_022126_88ddc325.txt
2025-07-31 02:21:26,764 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:21:26,764 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:26,765 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-07-31 02:21:31,711 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-07-31 02:22:51,786 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:22:54,656 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:22:56,283 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:22:56,344 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:22:59,377 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:00,505 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:37,803 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:37,803 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:41,627 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:41,648 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:43,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:43,559 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:43,619 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:43,630 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:23:47,289 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:47,293 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:23:48,938 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:23:48,950 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:07,203 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:09,826 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:11,343 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:11,394 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:14,459 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:15,987 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:50,173 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:53,738 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:24:55,495 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:24:55,583 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:24:58,938 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:25:00,634 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:25:06,750 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:25:08,513 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:25:15,194 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022515_a145cc13.txt
2025-07-31 02:25:15,195 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:25:15,932 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:15,933 - openai._base_client - INFO - Retrying request to /embeddings in 0.460389 seconds
2025-07-31 02:25:16,742 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:16,743 - openai._base_client - INFO - Retrying request to /embeddings in 0.974636 seconds
2025-07-31 02:25:18,542 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:25:18,543 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:25:18,544 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-07-31 02:25:18,545 - embeddings.mock_embed_client - INFO - Generated 1 mock embeddings
2025-07-31 02:25:21,297 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:55:21 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '295', 'x-pinecone-request-id': '7349540430028923318', 'x-envoy-upstream-service-time': '19', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:25:21,298 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:55:21 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '295', 'x-pinecone-request-id': '7349540430028923318', 'x-envoy-upstream-service-time': '19', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:03,447 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250731_022603_a145cc13.txt
2025-07-31 02:26:03,449 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-07-31 02:26:04,349 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:04,350 - openai._base_client - INFO - Retrying request to /embeddings in 0.465741 seconds
2025-07-31 02:26:05,120 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:05,121 - openai._base_client - INFO - Retrying request to /embeddings in 0.771801 seconds
2025-07-31 02:26:07,571 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 429 Too Many Requests"
2025-07-31 02:26:07,572 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-07-31 02:26:07,572 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-07-31 02:26:07,573 - embeddings.mock_embed_client - INFO - Generated 1 mock embeddings
2025-07-31 02:26:09,193 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:56:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '268', 'x-pinecone-request-id': '6927586876015874421', 'x-envoy-upstream-service-time': '35', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:09,194 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Wed, 30 Jul 2025 20:56:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '268', 'x-pinecone-request-id': '6927586876015874421', 'x-envoy-upstream-service-time': '35', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-07-31 02:26:09,300 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:12,186 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:12,318 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:13,981 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:14,064 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:15,954 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:17,349 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:17,435 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:26:17,775 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:19,480 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:26:20,507 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:26:21,993 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:27:56,993 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:27:59,439 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:00,999 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:01,045 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:03,379 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:04,459 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:44,124 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:44,124 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:47,399 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:47,402 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:49,177 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:49,232 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:49,275 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:49,330 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:28:52,549 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:52,648 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:28:53,736 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:28:54,473 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:29:07,222 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:09,899 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:29:11,440 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:29:11,483 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:14,067 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:29:14,885 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:29:15,020 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:30:02,496 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:30:04,851 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:30:06,486 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:30:06,531 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:30:08,947 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:30:10,490 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:31:14,718 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:31:17,243 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:31:18,011 - api.main - INFO - Shutting down Legal RAG System...
2025-07-31 02:31:18,913 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:31:20,589 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:31:22,204 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:32:28,133 - api.main - INFO - Starting Legal RAG System...
2025-07-31 02:32:29,914 - api.main - INFO - Legal RAG System started successfully
2025-07-31 02:33:36,878 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:20:35,838 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:20:37,544 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:25:48,332 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:26:01,285 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:26:03,074 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:26:46,792 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:26:51,127 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:26:52,841 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:27:55,748 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:27:57,476 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:28:00,150 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:28:03,385 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:28:05,029 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:28:27,744 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:28:49,997 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:29:15,130 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:29:33,532 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:31:36,759 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:31:38,830 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:32:01,567 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:38:39,411 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:38:40,893 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:38:57,154 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_133857_a145cc13.txt
2025-08-01 13:38:57,155 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 13:38:57,155 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:38:57,155 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:39:12,844 - api.routes.admin - ERROR - Error getting system stats: 'Settings' object has no attribute 'OPENAI_MODEL'
2025-08-01 13:39:18,934 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:41:30,116 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134130_646c7d83.pdf
2025-08-01 13:41:30,117 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:41:31,139 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:41:31,139 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:41:31,141 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:41:31,144 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:41:35,046 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:35 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1283', 'x-pinecone-request-id': '969568221612345448', 'x-envoy-upstream-service-time': '52', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:41:35,046 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:35 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1283', 'x-pinecone-request-id': '969568221612345448', 'x-envoy-upstream-service-time': '52', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:41:35,061 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134135_646c7d83.pdf
2025-08-01 13:41:35,062 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:41:35,454 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:41:35,455 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:41:35,455 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:41:35,456 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:41:37,859 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:38 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1172', 'x-pinecone-request-id': '9111127087531803521', 'x-envoy-upstream-service-time': '3', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:41:37,861 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:11:38 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1172', 'x-pinecone-request-id': '9111127087531803521', 'x-envoy-upstream-service-time': '3', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:03,418 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:43:05,055 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:43:46,986 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134346_646c7d83.pdf
2025-08-01 13:43:46,987 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:43:47,460 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:43:47,461 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:43:47,461 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:43:47,462 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:43:50,162 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1246', 'x-pinecone-request-id': '8556524506385078245', 'x-envoy-upstream-service-time': '36', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:50,162 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:50 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1246', 'x-pinecone-request-id': '8556524506385078245', 'x-envoy-upstream-service-time': '36', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:50,171 - utils.file_utils - INFO - Saved uploaded file: uploads\Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1_20250801_134350_646c7d83.pdf
2025-08-01 13:43:50,172 - api.routes.ingest - INFO - Processing document: Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf
2025-08-01 13:43:50,588 - voyage - INFO - error_message='You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.' message='Voyage API error received'
2025-08-01 13:43:50,588 - embeddings.embed_client - ERROR - Error generating embeddings for batch 1: You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model.
2025-08-01 13:43:50,588 - embeddings.embed_client - INFO - Falling back to mock embeddings
2025-08-01 13:43:50,589 - embeddings.mock_embed_client - INFO - Generated 16 mock embeddings
2025-08-01 13:43:53,645 - api.routes.ingest - ERROR - Error processing document Arogya Sanjeevani Policy - CIN - U10200WB1906GOI001713 1.pdf: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1250', 'x-pinecone-request-id': '720375741227278605', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:43:53,646 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:13:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '138', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '1250', 'x-pinecone-request-id': '720375741227278605', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got 'null' for field 'doc_author'","details":[]}

2025-08-01 13:45:17,987 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:47:46,186 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_134746_88ddc325.txt
2025-08-01 13:47:46,187 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:47:46,187 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:47:46,188 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:47:46,306 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:47:49,048 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:47:50,629 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:47:50,630 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:47:53,173 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:47:54,863 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:47:57,155 - api.routes.admin - ERROR - Error getting system stats: 'Settings' object has no attribute 'OPENAI_MODEL'
2025-08-01 13:48:28,039 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_134828_88ddc325.txt
2025-08-01 13:48:28,040 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:48:28,040 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:48:28,040 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:48:28,174 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:48:30,893 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:48:32,347 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:48:32,348 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:48:34,921 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:48:36,407 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:48:38,538 - api.main - ERROR - Unhandled exception: [TypeError("'_thread.RLock' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
2025-08-01 13:49:11,246 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_134911_88ddc325.txt
2025-08-01 13:49:11,247 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:49:11,247 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:49:11,248 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:49:11,443 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:14,070 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:49:15,552 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:49:15,553 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:18,175 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:49:19,482 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:49:49,975 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 13:49:52,914 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:55,531 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:49:57,089 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:49:57,090 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:49:59,760 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:50:01,116 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:53:17,079 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_135317_a145cc13.txt
2025-08-01 13:53:17,080 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 13:53:17,080 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:53:17,080 - api.main - ERROR - Unhandled exception: 'NoneType' object has no attribute 'startswith'
2025-08-01 13:53:17,218 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:53:19,979 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:53:21,763 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:53:21,764 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:53:24,212 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:53:25,812 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:54:31,705 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:54:33,256 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:54:35,386 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:54:37,619 - api.main - INFO - Starting Legal RAG System...
2025-08-01 13:54:39,305 - api.main - INFO - Legal RAG System started successfully
2025-08-01 13:55:25,879 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 13:58:49,562 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_nda_20250801_135849_88ddc325.txt
2025-08-01 13:58:49,563 - api.routes.ingest - INFO - Processing document: sample_nda.txt
2025-08-01 13:58:50,375 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 13:58:53,201 - api.routes.ingest - ERROR - Error processing document sample_nda.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:28:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '261', 'x-pinecone-request-id': '6588446659363335996', 'x-envoy-upstream-service-time': '39', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":19....' for field 'legal_terms'","details":[]}

2025-08-01 13:58:53,201 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:28:53 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '261', 'x-pinecone-request-id': '6588446659363335996', 'x-envoy-upstream-service-time': '39', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":19....' for field 'legal_terms'","details":[]}

2025-08-01 14:00:15,262 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:00:17,008 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:01:50,065 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140150_a145cc13.txt
2025-08-01 14:01:50,066 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:01:50,715 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:01:52,175 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:52 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '235', 'x-pinecone-request-id': '8803343657696923520', 'x-envoy-upstream-service-time': '27', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:01:52,175 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:52 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '235', 'x-pinecone-request-id': '8803343657696923520', 'x-envoy-upstream-service-time': '27', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:01:52,183 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140152_a145cc13.txt
2025-08-01 14:01:52,183 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:01:52,726 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:01:55,298 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:55 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '277', 'x-pinecone-request-id': '553868746747045210', 'x-envoy-upstream-service-time': '38', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:01:55,299 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:31:55 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '277', 'x-pinecone-request-id': '553868746747045210', 'x-envoy-upstream-service-time': '38', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:03:54,659 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140354_a145cc13.txt
2025-08-01 14:03:54,660 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:03:55,261 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:04:24,112 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 14:04:42,572 - urllib3.connectionpool - WARNING - Retrying (JitterRetry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'ReadTimeoutError("HTTPSConnectionPool(host='hackrx1-9wjymg0.svc.aped-4627-b74a.pinecone.io', port=443): Read timed out. (read timeout=None)")': /vectors/upsert
2025-08-01 14:04:44,194 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:34:44 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '239', 'x-pinecone-request-id': '5643598869748976268', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:04:44,194 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:34:44 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '239', 'x-pinecone-request-id': '5643598869748976268', 'x-envoy-upstream-service-time': '20', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:06:07,258 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_140607_a145cc13.txt
2025-08-01 14:06:07,260 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:06:07,950 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:06:09,497 - api.routes.ingest - ERROR - Error processing document sample_contract.txt: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:36:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '243', 'x-pinecone-request-id': '3671150867597624679', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:06:09,497 - api.main - ERROR - Unhandled exception: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Fri, 01 Aug 2025 08:36:09 GMT', 'Content-Type': 'application/json', 'Content-Length': '156', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '243', 'x-pinecone-request-id': '3671150867597624679', 'x-envoy-upstream-service-time': '21', 'server': 'envoy'})
HTTP response body: {"code":3,"message":"Metadata value must be a string, number, boolean or list of strings, got '{\"agreement\":13....' for field 'legal_terms'","details":[]}

2025-08-01 14:06:09,617 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 14:06:12,123 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:06:13,659 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:06:13,660 - api.main - INFO - Shutting down Legal RAG System...
2025-08-01 14:06:16,189 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:06:17,687 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:18:32,753 - api.main - INFO - Starting Legal RAG System...
2025-08-01 14:18:34,098 - api.main - INFO - Legal RAG System started successfully
2025-08-01 14:19:11,295 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_141911_a145cc13.txt
2025-08-01 14:19:11,296 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:19:12,801 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:19:15,896 - utils.file_utils - INFO - Moved file to processed: processed\sample_contract_20250801_141911_a145cc13.txt_20250801_084911.txt
2025-08-01 14:19:15,897 - api.routes.ingest - INFO - Successfully processed document: sample_contract.txt
2025-08-01 14:19:15,899 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_141915_a145cc13.txt
2025-08-01 14:19:15,900 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:19:17,433 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:19:18,985 - utils.file_utils - INFO - Moved file to processed: processed\sample_contract_20250801_141915_a145cc13.txt_20250801_084915.txt
2025-08-01 14:19:18,985 - api.routes.ingest - INFO - Successfully processed document: sample_contract.txt
2025-08-01 14:19:23,705 - utils.file_utils - INFO - Saved uploaded file: uploads\sample_contract_20250801_141923_a145cc13.txt
2025-08-01 14:19:23,705 - api.routes.ingest - INFO - Processing document: sample_contract.txt
2025-08-01 14:19:25,412 - embeddings.embed_client - INFO - Generated embeddings for batch 1
2025-08-01 14:19:27,083 - utils.file_utils - INFO - Moved file to processed: processed\sample_contract_20250801_141923_a145cc13.txt_20250801_084923.txt
2025-08-01 14:19:27,083 - api.routes.ingest - INFO - Successfully processed document: sample_contract.txt
